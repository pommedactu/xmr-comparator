{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;\f1\fnil\fcharset0 Menlo-Italic;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\csgray\c0;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f0\fs22 \cf2 \CocoaLigature0 name: Collect Exchange Rates\
\
  on:\
    schedule:\
      - cron: '0 
\f1\i * *
\f0\i0  
\f1\i * *
\f0\i0 '\
    workflow
\f1\i _dispatch:
\f0\i0 \
\
  
\f1\i jobs:
\f0\i0 \
  
\f1\i   collect:
\f0\i0 \
  
\f1\i     runs-on: ubuntu-latest
\f0\i0 \
  
\f1\i     steps:
\f0\i0 \
  
\f1\i       - name: Checkout repository
\f0\i0 \
  
\f1\i         uses: actions/checkout@v4
\f0\i0 \
  
\f1\i         with:
\f0\i0 \
  
\f1\i           token: $\{\{ secrets.GH_
\f0\i0 TOKEN \}\}\
\
        - name: Setup Node.js\
          uses: actions/setup-node@v4\
          with:\
            node-version: '18'\
\
        - name: Collect rates\
          run: node scripts/collect-rates.js\
\
        - name: Commit and push if changed\
          run: |\
            git config --global user.name 'Rate Collector Bot'\
            git config --global user.email 'bot@lebonxmr.com'\
            git add data/rate-history.json\
            git diff --quiet && git diff --staged --quiet || (git commit -m "\uc0\u55357 \u56522  Update rates - $(date +'%Y-%m-%d %H:%M')" && git push)}